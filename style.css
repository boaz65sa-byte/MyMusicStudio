body {
    background-color: #121212;
    color: #e0e0e0;
    font-family: 'Segoe UI', sans-serif;
    margin: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 10px;
    height: 100vh;
    overflow: hidden;
}

* { box-sizing: border-box; user-select: none; }

/* כפתורים וטפסים */
button, select, input {
    background: #333; color: white; border: 1px solid #555;
    padding: 6px 12px; border-radius: 4px; font-size: 13px; outline: none; cursor: pointer;
}
.btn { font-weight: bold; }
.btn-gold { background: #ffb300; color: black; border: none; }
.btn-gold:hover { background: #ffca28; }
.btn-blue { background: #1976d2; border: none; }
.btn-red { background: #d32f2f; border: none; }
.btn-gray { background: #546e7a; border: none; }
.btn-small { padding: 4px 8px; font-size: 11px; background: #455a64; border: 1px solid #607d8b; }
.full-width { width: 100%; margin-top: 5px; }

/* פאנל עליון */
.top-bar {
    background: #1e1e1e; padding: 10px 20px; border-radius: 8px; border: 1px solid #333;
    display: flex; gap: 15px; margin-bottom: 15px; box-shadow: 0 4px 10px rgba(0,0,0,0.5);
}
.control-group { display: flex; align-items: center; gap: 5px; }
optgroup { color: #ffb300; background: #263238; font-weight: bold; }

/* בוזוקי */
.instrument-wrapper {
    direction: ltr; position: relative; width: 980px; height: 260px;
    background: #000; border: 4px solid #4e342e; border-radius: 12px;
    display: flex; overflow: hidden; box-shadow: 0 20px 50px rgba(0,0,0,0.9);
    transition: transform 0.6s; flex-shrink: 0;
}
.instrument-wrapper.flip { transform: scaleX(-1); }
.flip .txt-fix { transform: scaleX(-1); display: inline-block; }

.headstock { width: 90px; height: 100%; background: #1a1005; border-right: 2px solid #333; position: relative; z-index: 2; }
.nut { width: 14px; height: 100%; background: linear-gradient(to right, #ccc, #999); z-index: 5; }
.fretboard { flex: 1; height: 100%; background: linear-gradient(#3e2723, #1a0e0b); position: relative; }

/* סריגים */
.fret-line { position: absolute; top: 0; bottom: 0; width: 3px; background: #888; border-left: 1px solid #aaa; }
.fret-num { position: absolute; bottom: 4px; width: 20px; text-align: center; margin-left: -10px; font-size: 10px; color: #8d6e63; font-weight: bold; }
.inlay { position: absolute; width: 12px; height: 12px; background: #eee; border-radius: 50%; top: 50%; margin: -6px; opacity: 0.8; box-shadow: 0 0 5px white; }
.inlay.top { top: 25%; } .inlay.bottom { top: 75%; }

/* מיתרים */
.course { position: relative; width: 100%; height: 25%; display: flex; flex-direction: column; justify-content: center; gap: 3px; }
.string { width: 100%; position: relative; box-shadow: 0 2px 3px rgba(0,0,0,0.8); }
.str-gold { background: linear-gradient(#fdd835, #f57f17); }
.str-silver { background: linear-gradient(#eeeeee, #bdbdbd); }
.h3 { height: 3px; } .h2 { height: 2px; } .h1 { height: 1px; }
.tune-char { position: absolute; left: 15px; color: #ffb300; font-size: 18px; font-weight: bold; z-index: 10; font-family: serif; text-shadow: 1px 1px 2px black; }

/* מרקרים */
.marker {
    position: absolute; width: 24px; height: 24px;
    background: radial-gradient(circle, #4caf50, #2e7d32);
    border: 2px solid white; border-radius: 50%;
    top: 50%; margin: -12px; z-index: 20;
    display: flex; justify-content: center; align-items: center; cursor: pointer;
    box-shadow: 0 2px 5px rgba(0,0,0,0.6);
}
.marker span { font-size: 11px; font-weight: bold; color: white; }
.marker.root { background: radial-gradient(circle, #f44336, #c62828); z-index: 21; width: 28px; height: 28px; margin: -14px; }

/* הבהוב */
.flash { background: white !important; box-shadow: 0 0 20px white, 0 0 40px #ffb300; transform: scale(1.5); z-index: 100; transition: 0.1s; }

/* אקורד (ויזואליזציה כחולה) */
.chord-dot {
    position: absolute; width: 26px; height: 26px;
    background: rgba(33, 150, 243, 0.7); /* כחול שקוף */
    border: 2px solid #fff; border-radius: 50%;
    top: 50%; margin: -13px; z-index: 90; pointer-events: none;
    box-shadow: 0 0 10px #2196f3;
    display: flex; justify-content: center; align-items: center;
    font-size: 10px; color: white; font-weight: bold;
    animation: pulse 1s infinite alternate;
}
@keyframes pulse { from {transform: scale(1);} to {transform: scale(1.15);} }

/* אזור העבודה */
.workspace { display: flex; width: 980px; gap: 15px; margin-top: 15px; height: 350px; }
.panel { background: #1e1e1e; border: 1px solid #333; border-radius: 8px; padding: 10px; display: flex; flex-direction: column; }
.side-panel { flex: 1; min-width: 250px; background: #263238; border-color: #455a64; }
.main-panel { flex: 2; }

/* מפקח */
.inspector-box { background: #000; padding: 10px; border-radius: 6px; margin-bottom: 10px; text-align: center; border: 1px solid #546e7a; }
.panel-title { font-size: 11px; color: #90a4ae; text-transform: uppercase; margin-bottom: 5px; border-bottom: 1px solid #455a64; padding-bottom: 2px; }
.ins-name { font-size: 20px; font-weight: bold; color: white; margin: 5px 0; }
.ins-notes { font-size: 13px; color: #b0bec5; margin-bottom: 10px; background: rgba(255,255,255,0.1); padding: 4px; border-radius: 4px; }
.chord-actions { display: flex; gap: 5px; justify-content: center; }

/* רשימת אקורדים */
.chord-grid { display: flex; flex-wrap: wrap; gap: 4px; overflow-y: auto; align-content: flex-start; flex: 1; padding-right: 5px; }
.chord-select-btn {
    background: #37474f; color: #eceff1; border: 1px solid #546e7a;
    padding: 6px; font-size: 11px; font-weight: bold; flex-grow: 1;
    min-width: 45px; text-align: center; border-radius: 4px;
}
.chord-select-btn:hover { background: #ffb300; color: black; }

/* ציר זמן */
.panel-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 5px; }
.track-label { font-size: 11px; color: #888; margin-bottom: 2px; }
.timeline {
    background: #121212; height: 50px; border-radius: 4px; border: 1px solid #333;
    margin-bottom: 10px; display: flex; align-items: center; gap: 3px; padding: 0 5px; overflow-x: auto;
}
.seq-item {
    background: #424242; padding: 4px; font-size: 10px; min-width: 35px;
    text-align: center; border-radius: 3px; border: 1px solid #616161; cursor: pointer;
}
.seq-item.active { background: #ffb300; color: black; border-color: white; transform: scale(1.1); }
.chord-item { background: #455a64; border-color: #78909c; min-width: 60px; }
.chord-item.active { background: #29b6f6; color: black; }

/* שמירה */
.save-area { margin-top: auto; border-top: 1px solid #333; padding-top: 10px; display: flex; gap: 5px; }
.save-area input { flex: 1; }